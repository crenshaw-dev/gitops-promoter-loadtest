
========================================
Promoter Load Test Setup
========================================
[INFO] Number of assets: 1
[INFO] Asset GitHub Organization: crenshaw-dev
[INFO] Asset GitHub URL: https://github.com
[INFO] Load Test Repository: https://github.com/crenshaw-dev/gitops-promoter-loadtest
[INFO] Promoter Cluster: https://kubernetes.default.svc
[INFO] Argo CD Cluster: https://kubernetes.default.svc
[INFO] Destination Cluster: https://kubernetes.default.svc
[INFO] Run directory: runs/2025-10-04-16-36-05
[INFO] Manifests directory: runs/2025-10-04-16-36-05/manifests
[INFO] Log file: runs/2025-10-04-16-36-05/logs/setup.log

========================================
Validated Prerequisites
========================================
[INFO] ✓ Configuration loaded from config.sh
[INFO] ✓ gh (GitHub CLI) found and authenticated
[INFO] ✓ kubectl found
[INFO] ✓ jq found
[INFO] Copying test results template
[INFO] Results file created: runs/2025-10-04-16-36-05/README.md

========================================
Detecting GitHub Account Type
========================================
[INFO] Auto-detecting account type for crenshaw-dev...
[INFO] Detected as user account

========================================
GitHub App Configuration
========================================
[INFO] Using GitHub App configuration from config.sh:
  → App Name: promoter-test-2025-10-04-14-52-33
  → App ID: 2063184
  → Key Path: /Users/mcrenshaw/Downloads/promoter-test-2025-10-04-14-52-33.2025-10-04.private-key.pem

========================================
Creating GitHub Repositories
========================================
[INFO] This will create 1 repositories (deployment only, config repos disabled)
[INFO] Account type: user
[STEP] Creating repositories for asset 0000
  → Creating promoter-test-0000-deployment
[WARN]   Repository crenshaw-dev/promoter-test-0000-deployment already exists, reusing it
  → Setting up promoter-test-0000-deployment
[WARN]   Repository already has content, pulling latest
Already up to date.
  →   Using default templates from repo-templates/asset-deployment
[main 9c6102d] Update deployment configuration for asset 0000
 1 file changed, 1 insertion(+), 1 deletion(-)
  →   Pushing to main
To https://github.com/crenshaw-dev/promoter-test-0000-deployment.git
   2bf454c..9c6102d  HEAD -> main
[INFO]   ✓ Initialized repositories for asset 0000
[INFO] All repositories created and initialized
[INFO] Using configured GitHub App Installation ID: 88716042

========================================
Generating Kubernetes Manifests
========================================
[STEP] Generating promoter cluster manifests
[INFO] Generated promoter cluster manifests: runs/2025-10-04-16-36-05/manifests/promoter/all-resources.yaml
[STEP] Generating Argo CD cluster manifests
[INFO] Generated Argo CD cluster manifests: runs/2025-10-04-16-36-05/manifests/argocd/all-resources.yaml
[STEP] Generating destination cluster manifests
[INFO] Generated destination cluster manifests: runs/2025-10-04-16-36-05/manifests/destination/all-resources.yaml

========================================
Setup Summary
========================================
[INFO] Setup summary saved to runs/2025-10-04-16-36-05/logs/SETUP_SUMMARY.md

========================================
Setup Complete!
========================================

[INFO] Generated manifests for:
  • 2 GitHub repositories
  • 1 GitRepository resources
  • 1 PromotionStrategy resources
  • 1 ArgoCDCommitStatus resources
  • 6 Argo CD Applications
  • 7 Kubernetes Namespaces


========================================
Applying Kubernetes Manifests
========================================

[INFO] Now applying manifests to your clusters...

[STEP] Creating GitHub App Secret...
[INFO] Creating promoter-github-app secret imperatively with private key (not managed by GitOps)
secret/promoter-github-app configured
[INFO] ✓ Secret created/updated successfully

[STEP] Applying manifests to PROMOTER cluster...
clusterscmprovider.promoter.argoproj.io/promoter-test creat